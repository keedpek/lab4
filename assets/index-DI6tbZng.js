(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function c(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(e){if(e.ep)return;e.ep=!0;const t=c(e);fetch(e.href,t)}})();const d="https://api.unsplash.com",p="/photos/random",m="/search/photos",u="0DFuq-0Xvzubjx7Mk-A8aiTyoH3Jl1ANh0R2cUuRsdQ",o=document.querySelector("#search-btn"),a=document.querySelector("#random-btn"),f=document.querySelector(".params-input"),s=document.querySelector(".content-container");o.addEventListener("click",async()=>{o.disabled=!0,a.disabled=!0,o.innerText="Загрузка ...",s.innerHTML="",await g(),o.disabled=!1,a.disabled=!1,o.innerText="Поиск"});a.addEventListener("click",async()=>{console.log(1),a.disabled=!0,o.disabled=!0,a.innerText="Загрузка ...",s.innerHTML="",await h(),a.disabled=!1,o.disabled=!1,a.innerText="Случайное фото"});const h=async()=>{const n=await fetch(`${d}${p}`,{method:"GET",headers:{Authorization:`Client-ID ${u}`}});switch(n.status){case 200:const c=(await n.json()).urls.small;s.innerHTML=`<img src=${c}>`;break;case 403:s.innerHTML='<p class="error-message">Доступ к API запрещен</p>';break;case 404:s.innerHTML='<p class="error-message">Ресурс не найден</p>';break;default:s.innerHTML=`<p class="error-message">Произошла ошибка ${n.status}</p>`}},g=async()=>{const n=f.value;if(!n){s.innerHTML='<p class="error-message">Введите что-нибудь</p>';return}const r=await fetch(`${d}${m}?page=1&per_page=4&query=${n}`,{method:"GET",headers:{Authorization:`Client-ID ${u}`}});switch(r.status){case 200:const c=await r.json();if(c.total===0){s.innerHTML='<p class="error-message">Ресурс не найден</p>';return}const i=c.results.map(e=>e.urls.small);s.innerHTML=`
      <div class="content-grid">
        ${i.map(e=>`<img src=${e}></img>`).join("")}
      </div>
      `;break;case 403:s.innerHTML='<p class="error-message">Доступ к API запрещен</p>';break;case 404:s.innerHTML='<p class="error-message">Ресурс не найден</p>';break;default:s.innerHTML=`<p class="error-message">Произошла ошибка ${r.status}</p>`}};
